<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <script src="https://cdn.onesignal.com/sdks/OneSignalSDK.js" async=""></script>
    <script>
      window.OneSignal = window.OneSignal || [];
      OneSignal.push(function() {
        OneSignal.init({
          appId: "f271a19e-322e-456b-90f3-946c5add8a05",
        });
      });

    </script>
    </head>
    <body>
      <button onclick="subscribe()">Subscribe</button>
      <script>
          
          addEventListener('load', async () =>{
              let sw = await navigator.serviceWorker.register('./sw.js')
              console.log(sw);
          })
  
          async function subscribe(){
              let sw = await navigator.serviceWorker.ready;
              let push = await sw.pushManager.subscribe({
                  userVisibleOnly: true,
                  applicationServerKeys: 'BHUnZYmwW6j1HkK4nS2iEvT8hey0HB7eW8ov1Coa2uQYy4cEtwZKeQ54vNUevumtGbJiqOweStKzYcNZ6HBk1_s'
              })
  
              console.log(JSON.stringify(push))
          }
      </script>
  
  </body>
  </html>
    </body>
    </html>